int logic(int* soc, char buf[100], int valend);